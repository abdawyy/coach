<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>User Dashboard</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body { background-color: #f8f9fa; transition: all 0.3s; }

    /* Sidebar */
    .sidebar {
        height: 100vh;
        width: 220px;
        background-color: #dc3545;
        color: white;
        position: fixed;
        top: 0;
        left: 0;
        transition: all 0.3s;
        padding: 1rem;
    }

    body.rtl .sidebar {
        left: auto;
        right: 0;
    }

    .sidebar a { color: white; text-decoration: none; }
    .sidebar .nav-link:hover { background-color: #c82333; border-radius: 5px; }

    /* Header */
    .header {
        margin-left: 220px;
        height: 60px;
        background-color: white;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 20px;
        border-bottom: 1px solid #dee2e6;
        transition: all 0.3s;
    }

    body.rtl .header {
        margin-left: 0;
        margin-right: 220px;
        text-align: right;
    }

    /* Main Content */
    .main-content {
        margin-left: 220px;
        padding: 20px;
        transition: all 0.3s;
    }

    body.rtl .main-content {
        margin-left: 0;
        margin-right: 220px;
        text-align: right;
    }

    .card-title { color: #dc3545; }
    .lang-btn { cursor: pointer; }
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar d-flex flex-column">
    <h2 class="text-center mb-4" data-key="sidebar-user">User</h2>

    <!-- Language Toggle -->
    <div class="text-center mb-3">
        <span class="btn btn-sm lang-btn text-white" onclick="setLanguage('en')">EN</span>
        <span>|</span>
        <span class="btn btn-sm lang-btn text-white" onclick="setLanguage('ar')">AR</span>
    </div>

    <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
            <a href="#" class="nav-link active" data-key="nav-dashboard">Dashboard</a>
        </li>
        <li>
            <a href="#" class="nav-link" data-key="nav-profile">My Profile</a>
        </li>
        <li>
            <a href="#" class="nav-link" data-key="nav-orders">My Orders</a>
        </li>
        <li>
            <a href="#" class="nav-link" data-key="nav-courses">My Courses</a>
        </li>
        <li>
            <a href="#" class="nav-link" data-key="nav-diet" id="diet-plan-link">Diet Plan</a>
        </li>
        <li>
            <a href="#" class="nav-link" data-key="nav-workout" id="workout-plan-link">Workout Plan</a>
        </li>
    </ul>

    <hr>
    <div class="mt-auto text-center">
        <a href="#" class="btn btn-light btn-sm w-75 mt-2 text-black" data-key="logout-btn">Logout</a>
    </div>
</div>

<!-- Header -->
<div class="header">
    <h4 data-key="header-title">Dashboard</h4>
</div>

<!-- Main Content -->
<div class="main-content">
    <div class="row g-4">
        <!-- Coach Subscription Section -->
        <div class="row g-4 mt-4" id="coach-section">
            <div class="col-md-6">
                <div class="card shadow-sm p-3">
                    <h5 class="card-title" data-key="card-diet">Diet Plan</h5>
                    <p class="card-text" data-key="card-diet-text">View your personalized diet plan from your coach.</p>
                    <a href="#" class="btn btn-outline-danger btn-sm" data-key="btn-go">Go</a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card shadow-sm p-3">
                    <h5 class="card-title" data-key="card-workout">Workout Plan</h5>
                    <p class="card-text" data-key="card-workout-text">Check your workout routines provided by your coach.</p>
                    <a href="#" class="btn btn-outline-danger btn-sm" data-key="btn-go">Go</a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
const translations = {
    en: {
        "sidebar-user": "User",
        "nav-dashboard": "Dashboard",
        "nav-profile": "My Profile",
        "nav-orders": "My Orders",
        "nav-courses": "My Courses",
        "nav-diet": "Diet Plan",
        "nav-workout": "Workout Plan",
        "header-title": "Dashboard",
        "card-diet": "Diet Plan",
        "card-diet-text": "View your personalized diet plan from your coach.",
        "card-workout": "Workout Plan",
        "card-workout-text": "Check your workout routines provided by your coach.",
        "btn-go": "Go",
        "logout-btn": "Logout"
    },
    ar: {
        "sidebar-user": "المستخدم",
        "nav-dashboard": "لوحة التحكم",
        "nav-profile": "ملفي الشخصي",
        "nav-orders": "طلباتي",
        "nav-courses": "دوراتي",
        "nav-diet": "خطة النظام الغذائي",
        "nav-workout": "خطة التمارين",
        "header-title": "لوحة التحكم",
        "card-diet": "خطة النظام الغذائي",
        "card-diet-text": "عرض خطة النظام الغذائي المخصصة من مدربك.",
        "card-workout": "خطة التمارين",
        "card-workout-text": "تحقق من روتين التمارين الذي يوفره مدربك.",
        "btn-go": "اذهب",
        "logout-btn": "تسجيل الخروج"
    }
};

// Translation Function
function translatePage(lang = "en") {
    document.querySelectorAll("[data-key]").forEach(el => {
        const key = el.getAttribute("data-key");
        if (translations[lang][key]) {
            el.textContent = translations[lang][key];
        }
    });

    // RTL adjustment
    if (lang === "ar") {
        document.body.dir = "rtl";
        document.body.classList.add("rtl");
    } else {
        document.body.dir = "ltr";
        document.body.classList.remove("rtl");
    }
}

// Simulate a subscribed user to a coach
const userSubscribed = true;
if (!userSubscribed) {
    document.getElementById("coach-section").style.display = "none";
}

// Default language
document.addEventListener("DOMContentLoaded", () => {
    translatePage("en");
});

// Global function
window.setLanguage = translatePage;
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
